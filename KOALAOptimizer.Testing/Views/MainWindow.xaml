<Window x:Class="KOALAOptimizer.Testing.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:KOALAOptimizer.Testing.Views"
        Title="🐨 KOALA Gaming Optimizer v2.3 - C# Edition" 
        Width="1000" Height="750" 
        MinWidth="900" MinHeight="750"
        Style="{DynamicResource MainWindowStyle}"
        Icon="pack://application:,,,/Resources/koala-icon.ico"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header Section -->
        <StackPanel Grid.Row="0" Margin="20,15,20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock Text="🚀 KOALA Gaming Optimizer v2.3 - C# Edition" 
                               Style="{StaticResource HeaderTextStyle}"/>
                    <TextBlock Text="Advanced Windows gaming optimizations with comprehensive FPS-boosting features and smart game detection!" 
                               Style="{StaticResource SubHeaderTextStyle}"/>
                </StackPanel>
                
                <!-- Theme Selector -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Theme:" VerticalAlignment="Center" Margin="0,0,5,0" 
                               Foreground="{DynamicResource TextBrush}"/>
                    <ComboBox x:Name="ThemeComboBox" Width="120" 
                              Style="{DynamicResource ModernComboBoxStyle}"
                              SelectionChanged="ThemeComboBox_SelectionChanged"/>
                </StackPanel>
            </Grid>
            
            <!-- Admin Status -->
            <TextBlock x:Name="AdminStatusText" 
                       Text="Checking administrator privileges..." 
                       Margin="0,5,0,0" 
                       FontWeight="Bold"
                       Foreground="{DynamicResource WarningBrush}"/>
        </StackPanel>
        
        <!-- Main Content -->
        <TabControl Grid.Row="1" Margin="10" Background="{DynamicResource BackgroundBrush}">
            
            <!-- Optimizations Tab -->
            <TabItem Header="🎮 Gaming Optimizations">
                <ScrollViewer Style="{DynamicResource ModernScrollViewerStyle}" Padding="10">
                    <StackPanel>
                        
                        <!-- Advanced Networking -->
                        <Expander Header="🌐 Advanced Networking" IsExpanded="True" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkDisableNagle" Content="Disable TCP ACK Delay (Nagle Algorithm)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkTcpDelayedAck" Content="Set TcpDelayedAckTicks=0" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkTcpAutotuning" Content="TCP Autotuning: Normal" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableTimestamps" Content="Disable TCP Timestamps" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableECN" Content="Disable ECN (Explicit Congestion Notification)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkEnableRSS" Content="Enable RSS (Receive Side Scaling)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableNetworkThrottling" Content="Disable Network Throttling" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkDisableNagleGlobal" Content="Disable Nagle Algorithm (Global)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Windows Gaming Optimizations -->
                        <Expander Header="🖥️ Windows Gaming Optimizations" IsExpanded="True" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkSystemResponsiveness" Content="System Responsiveness (0)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkGamesTaskHighPriority" Content="Games Task: High Priority" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkDisableGameDVR" Content="Disable Game DVR" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkDisableFullscreenOpt" Content="Disable Fullscreen Optimizations" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkEnableGpuScheduling" Content="Enable GPU Hardware Scheduling" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkHighPrecisionTimer" Content="High Precision Timer" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkOptimizeVisualEffects" Content="Selective Visual Effects Optimization" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableHibernation" Content="Disable Hibernation" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Enhanced Gaming Optimizations -->
                        <Expander Header="⚡ Enhanced Gaming Optimizations" IsExpanded="True" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkEnhancedCpuAffinity" Content="Enhanced CPU Affinity Management" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkAdvancedMemory" Content="Advanced Memory Optimization" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkGpuDriverOpt" Content="GPU Driver Optimizations" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkNetworkLatency" Content="Network Latency Improvements" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkGameMode" Content="Windows Game Mode Enhancements" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkPowerOptimization" Content="Gaming Power Plan Optimization" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkRealTimeMonitoring" Content="Real-Time Performance Monitoring" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkProcessOptimization" Content="Process Optimization Enhancements" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Advanced FPS-Boosting Optimizations -->
                        <Expander Header="🚀 Advanced FPS-Boosting Optimizations" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkCpuCorePark" Content="CPU Core Parking Disable" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkCpuCStates" Content="CPU C-States Disable" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkInterruptMod" Content="Interrupt Moderation" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkMMCSS" Content="MMCSS Gaming Priority" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkLargePages" Content="Large Page Support" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkMemCompression" Content="Memory Compression Disable" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkStandbyMemory" Content="Standby Memory Management" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkHardwareGpuScheduling" Content="Hardware GPU Scheduling" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}" IsChecked="True"/>
                                <CheckBox x:Name="chkGpuPowerStates" Content="GPU Power States Disable" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkShaderCache" Content="Shader Cache Management" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                            </StackPanel>
                        </Expander>
                        
                        <!-- GPU Vendor Optimizations -->
                        <Expander Header="🎨 GPU Vendor Optimizations" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkNvidiaTweaks" Content="💚 NVIDIA: Disable Telemetry Service &amp; TDR Optimizations" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkAmdTweaks" Content="🔴 AMD: Disable External Events &amp; Enhanced Performance" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkIntelTweaks" Content="🔵 Intel: Graphics Optimizations (for dual GPU setups)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                            </StackPanel>
                        </Expander>
                        
                        <!-- Background Services -->
                        <Expander Header="🔧 Background Services" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkDisableXboxServices" Content="Disable Xbox Services" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisablePrintSpooler" Content="Disable Print Spooler" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableSysMain" Content="Disable SysMain (Superfetch)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableTelemetry" Content="Disable Telemetry (DiagTrack)" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableWindowsSearch" Content="Disable Windows Search" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableTabletServices" Content="Disable Tablet Services" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkDisableThemesService" Content="Disable Themes Service" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                            </StackPanel>
                        </Expander>
                        
                        <!-- System Performance -->
                        <Expander Header="💻 System Performance" 
                                  Style="{DynamicResource GroupBoxStyle}" Margin="5">
                            <StackPanel Margin="10">
                                <CheckBox x:Name="chkOptimizeMemoryManagement" Content="Optimize Memory Management" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkUltimatePerformancePowerPlan" Content="Ultimate Performance Power Plan" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkOptimizeCpuScheduling" Content="Optimize CPU Scheduling" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                                <CheckBox x:Name="chkOptimizePageFile" Content="Optimize Page File" 
                                          Style="{DynamicResource SciFiCheckBoxStyle}"/>
                            </StackPanel>
                        </Expander>
                        
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Crosshair Overlay Tab -->
            <TabItem Header="🎯 Crosshair Overlay">
                <local:CrosshairSettingsControl x:Name="CrosshairSettings"/>
            </TabItem>
            
            <!-- Game Management Tab -->
            <TabItem Header="🎮 Game Management">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Game Selection -->
                    <GroupBox Header="Game Selection &amp; Process Priority" Grid.Row="0" 
                              Style="{DynamicResource GroupBoxStyle}">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Game Profile:" 
                                       VerticalAlignment="Center" Margin="0,0,8,0" 
                                       Foreground="{DynamicResource TextBrush}"/>
                            <ComboBox x:Name="GameProfileComboBox" Grid.Row="0" Grid.Column="1" 
                                      Style="{DynamicResource ModernComboBoxStyle}" Margin="0,0,8,0"/>
                            
                            <TextBlock Grid.Row="0" Grid.Column="2" Text="Priority:" 
                                       VerticalAlignment="Center" Margin="0,0,8,0" 
                                       Foreground="{DynamicResource TextBrush}"/>
                            <ComboBox x:Name="PriorityComboBox" Grid.Row="0" Grid.Column="3" Width="100" 
                                      Style="{DynamicResource ModernComboBoxStyle}" Margin="0,0,8,0">
                                <ComboBoxItem Content="Idle" Tag="Idle"/>
                                <ComboBoxItem Content="Normal" Tag="Normal"/>
                                <ComboBoxItem Content="High" Tag="High" IsSelected="True"/>
                                <ComboBoxItem Content="Real Time" Tag="RealTime"/>
                            </ComboBox>
                            
                            <Button x:Name="AutoDetectButton" Grid.Row="0" Grid.Column="4" 
                                    Content="🔍 Auto Detect" 
                                    Style="{DynamicResource OptimizationButtonStyle}"
                                    Click="AutoDetectButton_Click"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Process Name:" 
                                       VerticalAlignment="Center" Margin="0,8,8,0" 
                                       Foreground="{DynamicResource TextBrush}"/>
                            <TextBox x:Name="ProcessNameTextBox" Grid.Row="1" Grid.Column="1" 
                                     Text="cs2" Margin="0,8,8,0" 
                                     Style="{DynamicResource ModernTextBoxStyle}"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="2" Text="Game Path:" 
                                       VerticalAlignment="Center" Margin="0,8,8,0" 
                                       Foreground="{DynamicResource TextBrush}"/>
                            <TextBox x:Name="GamePathTextBox" Grid.Row="1" Grid.Column="3" Grid.ColumnSpan="2" 
                                     Margin="0,8,0,0" 
                                     ToolTip="Optional: Path to game executable for additional optimizations"
                                     Style="{DynamicResource ModernTextBoxStyle}"/>
                        </Grid>
                    </GroupBox>
                    
                    <!-- Running Games -->
                    <GroupBox Header="Running Games" Grid.Row="1" 
                              Style="{DynamicResource GroupBoxStyle}" Margin="0,5,0,0">
                        <DataGrid x:Name="RunningGamesDataGrid" 
                                  Style="{DynamicResource ModernDataGridStyle}"
                                  AutoGenerateColumns="False" 
                                  CanUserAddRows="False" CanUserDeleteRows="False"
                                  IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Game" Binding="{Binding DisplayName}" Width="*"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding IsRunning}" Width="100"/>
                                <DataGridTextColumn Header="Priority" Binding="{Binding Priority}" Width="100"/>
                                <DataGridTextColumn Header="Last Detected" Binding="{Binding LastDetected}" Width="150"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>
                    
                    <!-- Manual Process Optimization -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                        <Button x:Name="OptimizeProcessButton" Content="🚀 Optimize Process" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Click="OptimizeProcessButton_Click"/>
                        <Button x:Name="RefreshGamesButton" Content="🔄 Refresh" 
                                Style="{DynamicResource OptimizationButtonStyle}"
                                Click="RefreshGamesButton_Click"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <!-- Performance Monitor Tab -->
            <TabItem Header="📊 Performance Monitor">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Performance Metrics -->
                    <GroupBox Header="Real-Time Performance Metrics" Grid.Row="0" 
                              Style="{DynamicResource GroupBoxStyle}">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- CPU Usage -->
                            <StackPanel Grid.Row="0" Grid.Column="0" Margin="5">
                                <TextBlock Text="🔥 CPU Usage" FontWeight="Bold" 
                                           Foreground="{DynamicResource TextBrush}" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="CpuUsageText" Text="0%" FontSize="24" FontWeight="Bold" 
                                           Foreground="{DynamicResource PrimaryBrush}" HorizontalAlignment="Center"/>
                            </StackPanel>
                            
                            <!-- Memory Usage -->
                            <StackPanel Grid.Row="0" Grid.Column="1" Margin="5">
                                <TextBlock Text="💾 Memory" FontWeight="Bold" 
                                           Foreground="{DynamicResource TextBrush}" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="MemoryUsageText" Text="0 MB" FontSize="24" FontWeight="Bold" 
                                           Foreground="{DynamicResource PrimaryBrush}" HorizontalAlignment="Center"/>
                            </StackPanel>
                            
                            <!-- GPU Usage -->
                            <StackPanel Grid.Row="0" Grid.Column="2" Margin="5">
                                <TextBlock Text="🎮 GPU" FontWeight="Bold" 
                                           Foreground="{DynamicResource TextBrush}" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="GpuUsageText" Text="Unknown" FontSize="16" FontWeight="Bold" 
                                           Foreground="{DynamicResource PrimaryBrush}" HorizontalAlignment="Center"/>
                            </StackPanel>
                            
                            <!-- Active Processes -->
                            <StackPanel Grid.Row="0" Grid.Column="3" Margin="5">
                                <TextBlock Text="⚡ Processes" FontWeight="Bold" 
                                           Foreground="{DynamicResource TextBrush}" HorizontalAlignment="Center"/>
                                <TextBlock x:Name="ProcessCountText" Text="0" FontSize="24" FontWeight="Bold" 
                                           Foreground="{DynamicResource PrimaryBrush}" HorizontalAlignment="Center"/>
                            </StackPanel>
                            
                            <!-- Status Info -->
                            <TextBlock x:Name="PerformanceStatusText" Grid.Row="1" Grid.ColumnSpan="4" 
                                       Text="Performance monitoring stopped" 
                                       Margin="0,10,0,0" HorizontalAlignment="Center"
                                       Foreground="{DynamicResource SecondaryBrush}"/>
                        </Grid>
                    </GroupBox>
                    
                    <!-- System Information -->
                    <GroupBox Header="System Information" Grid.Row="1" 
                              Style="{DynamicResource GroupBoxStyle}" Margin="0,5,0,0">
                        <ScrollViewer>
                            <TextBlock x:Name="SystemInfoTextBlock" 
                                       Text="Loading system information..." 
                                       FontFamily="Consolas, Courier New, monospace" 
                                       Foreground="{DynamicResource TextBrush}"
                                       Margin="10"/>
                        </ScrollViewer>
                    </GroupBox>
                </Grid>
            </TabItem>
            
            <!-- Backup &amp; Restore Tab -->
            <TabItem Header="💾 Backup &amp; Restore">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Backup Controls -->
                    <GroupBox Header="Backup Management" Grid.Row="0" 
                              Style="{DynamicResource GroupBoxStyle}">
                        <StackPanel Margin="10">
                            <TextBlock Text="Create and manage backups of your system settings before applying optimizations." 
                                       Foreground="{DynamicResource TextBrush}" Margin="0,0,0,10"/>
                            
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button x:Name="CreateBackupButton" Content="💾 Create Backup" 
                                        Style="{DynamicResource PrimaryButtonStyle}"
                                        Click="CreateBackupButton_Click"/>
                                <Button x:Name="RestoreBackupButton" Content="🔄 Restore Backup" 
                                        Style="{DynamicResource DangerButtonStyle}"
                                        Click="RestoreBackupButton_Click"/>
                                <Button x:Name="ExportConfigButton" Content="📤 Export Config" 
                                        Style="{DynamicResource OptimizationButtonStyle}"
                                        Click="ExportConfigButton_Click"/>
                                <Button x:Name="ImportConfigButton" Content="📥 Import Config" 
                                        Style="{DynamicResource OptimizationButtonStyle}"
                                        Click="ImportConfigButton_Click"/>
                            </StackPanel>
                            
                            <TextBlock x:Name="BackupStatusText" 
                                       Text="No backup found" 
                                       Margin="0,10,0,0" HorizontalAlignment="Center"
                                       Foreground="{DynamicResource WarningBrush}"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <!-- Backup History -->
                    <GroupBox Header="Backup History" Grid.Row="1" 
                              Style="{DynamicResource GroupBoxStyle}" Margin="0,5,0,0">
                        <DataGrid x:Name="BackupHistoryDataGrid" 
                                  Style="{DynamicResource ModernDataGridStyle}"
                                  AutoGenerateColumns="False" 
                                  CanUserAddRows="False" CanUserDeleteRows="False"
                                  IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Backup Date" Binding="{Binding CreatedDate}" Width="150"/>
                                <DataGridTextColumn Header="Version" Binding="{Binding Version}" Width="100"/>
                                <DataGridTextColumn Header="Registry Entries" Binding="{Binding RegistryCount}" Width="120"/>
                                <DataGridTextColumn Header="Services" Binding="{Binding ServiceCount}" Width="100"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>
                </Grid>
            </TabItem>
            
            <!-- Activity Log Tab -->
            <TabItem Header="📝 Activity Log">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Log Controls -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,5">
                        <Button x:Name="ClearLogButton" Content="🗑️ Clear Log" 
                                Style="{DynamicResource OptimizationButtonStyle}"
                                Click="ClearLogButton_Click"/>
                        <Button x:Name="ExportLogButton" Content="📤 Export Log" 
                                Style="{DynamicResource OptimizationButtonStyle}"
                                Click="ExportLogButton_Click"/>
                    </StackPanel>
                    
                    <!-- Log Display -->
                    <ListBox x:Name="LogListBox" Grid.Row="1" 
                             Background="{DynamicResource GroupBackgroundBrush}"
                             Foreground="{DynamicResource TextBrush}"
                             BorderBrush="{DynamicResource BorderBrush}"
                             BorderThickness="2"
                             FontFamily="Consolas, Courier New, monospace"
                             ScrollViewer.HorizontalScrollBarVisibility="Auto"
                             ScrollViewer.VerticalScrollBarVisibility="Auto">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           Foreground="{DynamicResource TextBrush}"
                                           FontFamily="Consolas, Courier New, monospace"/>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </TabItem>
        </TabControl>
        
        <!-- Footer / Action Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="20">
            <Button x:Name="RecommendedButton" Content="🚀 Apply Recommended" 
                    Style="{DynamicResource PrimaryButtonStyle}" 
                    FontSize="16" Padding="20,10"
                    Click="RecommendedButton_Click"/>
            <Button x:Name="RevertAllButton" Content="🔄 Revert All" 
                    Style="{DynamicResource DangerButtonStyle}"
                    Click="RevertAllButton_Click"/>
            <Button x:Name="SystemInfoButton" Content="💻 System Info" 
                    Style="{DynamicResource OptimizationButtonStyle}"
                    Click="SystemInfoButton_Click"/>
            <Button x:Name="BenchmarkButton" Content="⚡ Quick Benchmark" 
                    Style="{DynamicResource OptimizationButtonStyle}"
                    Click="BenchmarkButton_Click"/>
        </StackPanel>
    </Grid>
</Window>