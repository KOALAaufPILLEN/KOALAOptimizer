<Window x:Class="KOALAOptimizer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸš€ KOALA Gaming Optimizer v3.0" Height="950" Width="1500"
        Background="#0c0c0c" WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="5,3"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="GroupBox">
            <Setter Property="Foreground" Value="#00ff00"/>
            <Setter Property="BorderBrush" Value="#00ff00"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="8"/>
        </Style>
        <Style x:Key="CategoryHeader" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#00ff00"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,10,0,5"/>
        </Style>
        <Style x:Key="WarningText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#ff9900"/>
            <Setter Property="FontStyle" Value="Italic"/>
            <Setter Property="FontSize" Value="11"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="180"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#00ff00" Padding="10">
            <StackPanel>
                <TextBlock Text="ðŸš€ KOALA Gaming Optimizer v3.0" FontSize="22" FontWeight="Bold" Foreground="Black"/>
                <TextBlock Text="Advanced Windows gaming optimizations with comprehensive FPS-boosting features and smart game detection!" 
                           FontSize="11" Foreground="#222" FontStyle="Italic"/>
            </StackPanel>
        </Border>

        <!-- Top Controls Bar -->
        <Border Grid.Row="1" Background="#1a1a1a" Padding="5">
            <StackPanel>
                <!-- Advanced Networking Section -->
                <TextBlock Text="ðŸŒ Advanced Networking" Foreground="#00ff00" FontWeight="Bold" Margin="5,5,5,2"/>
                <WrapPanel>
                    <CheckBox Name="DisableTCPDelay" Content="Disable TCP ACK Delay" IsChecked="True"/>
                    <CheckBox Name="TurboNagle" Content="Set TurboACK/NAGLE=0" IsChecked="True"/>
                    <CheckBox Name="TCPAutotuning" Content="TCP Autotuning Normal" IsChecked="True"/>
                    <CheckBox Name="DisableTCPTimestamps" Content="Disable TCP Timestamps"/>
                    <CheckBox Name="DisableECN" Content="Disable ECN"/>
                    <CheckBox Name="EnableRSS" Content="Enable RSS" IsChecked="True"/>
                    <CheckBox Name="EnablePSC" Content="Enable PSC"/>
                    <CheckBox Name="DisableNetThrottling" Content="Disable Network Throttling" IsChecked="True"/>
                    <CheckBox Name="DisableNagleAlgorithm" Content="Disable Nagle Algorithm" IsChecked="True"/>
                </WrapPanel>
            </StackPanel>
        </Border>

        <!-- Main Content ScrollViewer -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Margin="10">
                
                <!-- Windows Gaming Optimizations -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="ðŸŽ® Windows Gaming Optimizations"/>
                <WrapPanel>
                    <CheckBox Name="SystemResponsiveness" Content="System Responsiveness (0)" IsChecked="True"/>
                    <CheckBox Name="GameTaskHighPriority" Content="Games Task High Priority" IsChecked="True"/>
                    <CheckBox Name="DisableGameDVR" Content="Disable Game DVR" IsChecked="True"/>
                    <CheckBox Name="DisableFullscreenOpt" Content="Disable Fullscreen Optimizations" IsChecked="True"/>
                    <CheckBox Name="EnableGPUHwScheduling" Content="Enable GPU Hardware Scheduling" IsChecked="True"/>
                    <CheckBox Name="HighPrecisionTimer" Content="High Precision Timer" IsChecked="True"/>
                    <CheckBox Name="SelectiveVisualEffects" Content="Selective Visual Effects Optimization" IsChecked="True"/>
                    <CheckBox Name="DisableHibernation" Content="Disable Hibernation"/>
                </WrapPanel>

                <!-- Enhanced Gaming Optimizations -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="ðŸ”¥ Enhanced Gaming Optimizations"/>
                <WrapPanel>
                    <CheckBox Name="EnhancedCPUAffinity" Content="Enhanced CPU Affinity Management" IsChecked="True"/>
                    <CheckBox Name="AdvancedMemoryOpt" Content="Advanced Memory Optimization" IsChecked="True"/>
                    <CheckBox Name="GPUDriverOptimizations" Content="GPU Driver Optimizations" IsChecked="True"/>
                    <CheckBox Name="NetworkLatencyImprovements" Content="Network Latency Improvements" IsChecked="True"/>
                    <CheckBox Name="WindowsGameModeEnhancements" Content="Windows Game Mode Enhancements" IsChecked="True"/>
                    <CheckBox Name="GamingPowerPlanOpt" Content="Gaming Power Plan Optimization" IsChecked="True"/>
                    <CheckBox Name="RealtimePerformanceMonitoring" Content="Real-Time Performance Monitoring"/>
                    <CheckBox Name="ProcessOptEnhancements" Content="Process Optimization Enhancements"/>
                </WrapPanel>

                <!-- Advanced FPS-Boosting Optimizations -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="ðŸš€ Advanced FPS-Boosting Optimizations"/>
                <WrapPanel>
                    <CheckBox Name="CPUCoreParkingDisable" Content="CPU Core Parking Disable" IsChecked="True"/>
                    <CheckBox Name="CPUCStatesDisable" Content="CPU C-States Disable" IsChecked="True"/>
                    <CheckBox Name="InterruptModeration" Content="Interrupt Moderation" IsChecked="True"/>
                    <CheckBox Name="MSIModeGamingPriority" Content="MSI/MSI-X Gaming Priority" IsChecked="True"/>
                    <CheckBox Name="LargePageSupport" Content="Large Page Support" IsChecked="True"/>
                    <CheckBox Name="MemoryCompressionDisable" Content="Memory Compression Disable" IsChecked="True"/>
                    <CheckBox Name="StandbyMemoryManagement" Content="Standby Memory Management" IsChecked="True"/>
                    <CheckBox Name="HardwareGPUScheduling" Content="Hardware GPU Scheduling" IsChecked="True"/>
                    <CheckBox Name="GPUPowerStatesDisable" Content="GPU Power States Disable"/>
                    <CheckBox Name="ShaderCacheManagement" Content="Shader Cache Management" IsChecked="True"/>
                    <CheckBox Name="GameFileIOPriority" Content="Game File I/O Priority" IsChecked="True"/>
                    <CheckBox Name="DiskPerformanceTweaks" Content="Disk Performance Tweaks" IsChecked="True"/>
                    <CheckBox Name="GamingNetworkStack" Content="Gaming Network Stack" IsChecked="True"/>
                    <CheckBox Name="GamingAudioOptimization" Content="Gaming Audio Optimization" IsChecked="True"/>
                    <CheckBox Name="GamingInputOptimization" Content="Gaming Input Optimization" IsChecked="True"/>
                </WrapPanel>

                <!-- Kernel & Critical Optimizations (Performance Mode) -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="âš¡ Kernel &amp; Critical Optimizations (Performance Mode Only)"/>
                <TextBlock Style="{StaticResource WarningText}" Text="âš ï¸ WARNING: These modifications affect system kernel. Use at your own risk! No responsibility for system instability." Margin="5,0,0,5"/>
                <WrapPanel>
                    <CheckBox Name="KernelTimerResolution" Content="Kernel Timer Resolution (1ms)" Foreground="#ff9900"/>
                    <CheckBox Name="DisablePagingExecutive" Content="Disable Paging Executive" Foreground="#ff9900"/>
                    <CheckBox Name="Win32PrioritySeparation" Content="Win32 Priority Separation (0x26)" Foreground="#ff9900"/>
                    <CheckBox Name="DisableSpeculativeMitigations" Content="Disable Speculative Mitigations" Foreground="#ff9900"/>
                    <CheckBox Name="DisableTSXAutoBan" Content="Disable TSX Auto Ban" Foreground="#ff9900"/>
                    <CheckBox Name="ThreadDPCEnable" Content="Thread DPC Enable" Foreground="#ff9900"/>
                    <CheckBox Name="DPCQueueDepth" Content="DPC Queue Depth Optimization" Foreground="#ff9900"/>
                </WrapPanel>

                <!-- Smart Gaming Detection & Auto-Optimization -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="ðŸŽ¯ Smart Gaming Detection &amp; Auto-Optimization"/>
                <WrapPanel>
                    <CheckBox Name="AutomaticGameDetection" Content="Automatic Game Detection" IsChecked="True"/>
                    <CheckBox Name="AutoProfileSwitching" Content="Auto Profile Switching" IsChecked="True"/>
                    <CheckBox Name="GameSpecificProfiles" Content="Game-Specific Profiles" IsChecked="True"/>
                    <CheckBox Name="PerformanceMetricsDisplay" Content="Performance Metrics Display"/>
                    <CheckBox Name="AutoRevertOnGameExit" Content="Auto-Revert on Game Exit"/>
                    <CheckBox Name="BackgroundAppSuppression" Content="Background App Suppression" IsChecked="True"/>
                </WrapPanel>

                <!-- System Performance -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="âš™ï¸ System Performance"/>
                <WrapPanel>
                    <CheckBox Name="OptimizeMemoryManagement" Content="Optimize Memory Management" IsChecked="True"/>
                    <CheckBox Name="UltimatePerformancePowerPlan" Content="Ultimate Performance Power Plan" IsChecked="True"/>
                    <CheckBox Name="OptimizeCPUScheduling" Content="Optimize CPU Scheduling" IsChecked="True"/>
                    <CheckBox Name="OptimizePageFile" Content="Optimize Page File" IsChecked="True"/>
                </WrapPanel>

                <!-- GPU Vendor Optimizations -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="ðŸŽ® GPU Vendor Optimizations"/>
                <WrapPanel>
                    <CheckBox Name="NVIDIADisableTelemetry" Content="NVIDIA: Disable Telemetry Service"/>
                    <CheckBox Name="AMDDisableExternalEvents" Content="AMD: Disable External Events"/>
                    <CheckBox Name="IntelGraphicsOptimizations" Content="Intel: Graphics Optimizations"/>
                </WrapPanel>

                <!-- Background Services -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="ðŸ”§ Background Services"/>
                <WrapPanel>
                    <CheckBox Name="DisableXboxServices" Content="Disable Xbox Services" IsChecked="True"/>
                    <CheckBox Name="DisablePrintSpooler" Content="Disable Print Spooler"/>
                    <CheckBox Name="DisableSysMain" Content="Disable SysMain (Superfetch)"/>
                    <CheckBox Name="DisableTelemetryDiagTrack" Content="Disable Telemetry (DiagTrack)" IsChecked="True"/>
                    <CheckBox Name="DisableWindowsSearch" Content="Disable Windows Search"/>
                    <CheckBox Name="DisableTabletServices" Content="Disable Tablet Services"/>
                    <CheckBox Name="DisableThemesService" Content="Disable Themes Service"/>
                </WrapPanel>

                <!-- Disable Unneeded Services -->
                <TextBlock Style="{StaticResource CategoryHeader}" Text="âŒ Disable Unneeded Services"/>
                <WrapPanel>
                    <CheckBox Name="DisableFax" Content="Disable Fax / RemoteRegistry / MapsBroker / WMPNetworkSvc / WpnUserService / Bthserv"/>
                </WrapPanel>
            </StackPanel>
        </ScrollViewer>

        <!-- Game Selection & Process Priority & Controls -->
        <Border Grid.Row="3" Background="#1a1a1a" Padding="10" Margin="5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="250"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Game Profile:" Foreground="White" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox Grid.Column="1" Name="GameProfileCombo" Margin="0,0,10,0">
                    <ComboBoxItem>Counter-Strike 2</ComboBoxItem>
                    <ComboBoxItem>Valorant</ComboBoxItem>
                    <ComboBoxItem>Fortnite</ComboBoxItem>
                    <ComboBoxItem>Apex Legends</ComboBoxItem>
                    <ComboBoxItem>Call of Duty: Warzone</ComboBoxItem>
                    <ComboBoxItem>Rainbow Six Siege</ComboBoxItem>
                    <ComboBoxItem>Overwatch 2</ComboBoxItem>
                    <ComboBoxItem>PUBG</ComboBoxItem>
                    <ComboBoxItem>League of Legends</ComboBoxItem>
                    <ComboBoxItem>Rocket League</ComboBoxItem>
                    <ComboBoxItem>Destiny 2</ComboBoxItem>
                    <ComboBoxItem>Battlefield 6</ComboBoxItem>
                </ComboBox>

                <Button Grid.Column="2" Name="AutoDetect" Content="ðŸ” Auto Detect" Background="#6a0dad" Foreground="White" 
                        Padding="10,5" Margin="5,0" Click="AutoDetect_Click"/>

                <TextBlock Grid.Column="3" Text="Priority:" Foreground="White" VerticalAlignment="Center" Margin="20,0,10,0"/>
                <ComboBox Grid.Column="4" Name="PriorityCombo" Margin="0,0,10,0">
                    <ComboBoxItem IsSelected="True">High</ComboBoxItem>
                    <ComboBoxItem>Above Normal</ComboBoxItem>
                    <ComboBoxItem>Normal</ComboBoxItem>
                </ComboBox>

                <StackPanel Grid.Column="6" Orientation="Horizontal">
                    <CheckBox Name="SystemInfo" Content="ðŸ“Š System Info" Foreground="White" VerticalAlignment="Center" Margin="10,0"/>
                    <CheckBox Name="QuickBenchmark" Content="âš¡ Quick Benchmark" Foreground="White" VerticalAlignment="Center" Margin="10,0"/>
                    <Button Name="ExportConfig" Content="ðŸ’¾ Export Config" Background="#ff9900" Foreground="White" 
                            Padding="10,5" Margin="10,0" Click="ExportConfig_Click"/>
                    <Button Name="ImportConfig" Content="ðŸ“ Import Config" Background="#ff9900" Foreground="White" 
                            Padding="10,5" Margin="5,0" Click="ImportConfig_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Bottom Section: Action Buttons and Activity Log -->
        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="200"/>
            </Grid.ColumnDefinitions>

            <!-- Left: Main Actions -->
            <StackPanel Grid.Column="0" Margin="10">
                <TextBlock Text="Status:" Foreground="#00ff00" FontWeight="Bold"/>
                <TextBlock Name="StatusText" Text="Ready" Foreground="#00ff00" Margin="0,2,0,10"/>
                
                <RadioButton Name="SafeMode" Content="ðŸ›¡ï¸ Safe Mode" Foreground="White" GroupName="Mode"/>
                <RadioButton Name="PerformanceMode" Content="âš¡ Performance Mode" Foreground="#ff9900" GroupName="Mode" IsChecked="True"/>
                <RadioButton Name="UltraMode" Content="ðŸš€ Ultra Mode" Foreground="#ff0000" GroupName="Mode"/>
                
                <Button Name="RecommendedButton" Content="âœ… Recommended" Background="#00ff00" Foreground="Black" 
                        FontWeight="Bold" Height="35" Margin="0,10,0,2" Click="Recommended_Click"/>
                <Button Name="RevertAllButton" Content="ðŸ”„ Revert All" Background="#ff3333" Foreground="White" 
                        Height="35" Margin="0,2" Click="RevertAll_Click"/>
            </StackPanel>

            <!-- Center: Activity Log -->
            <GroupBox Grid.Column="1" Header="ðŸ“Š Activity Log" Margin="5">
                <ScrollViewer>
                    <TextBox Name="LogBox" Background="#0a0a0a" Foreground="#00ff00" 
                             IsReadOnly="True" FontFamily="Consolas" FontSize="11" TextWrapping="Wrap"/>
                </ScrollViewer>
            </GroupBox>

            <!-- Right: Crosshair & FOV Controls -->
            <StackPanel Grid.Column="2" Margin="10">
                <GroupBox Header="ðŸŽ¯ Crosshair" Margin="0,0,0,5">
                    <StackPanel>
                        <CheckBox Name="EnableCrosshair" Content="Enable" Foreground="White" Margin="2"/>
                        <ComboBox Name="CrosshairStyle" Margin="2">
                            <ComboBoxItem>Cross</ComboBoxItem>
                            <ComboBoxItem>Dot</ComboBoxItem>
                            <ComboBoxItem>Circle</ComboBoxItem>
                        </ComboBox>
                        <Slider Name="CrosshairSize" Minimum="1" Maximum="50" Value="10" Margin="2"/>
                        <ComboBox Name="CrosshairColor" Margin="2">
                            <ComboBoxItem>Green</ComboBoxItem>
                            <ComboBoxItem>Red</ComboBoxItem>
                            <ComboBoxItem>Cyan</ComboBoxItem>
                        </ComboBox>
                        <Button Name="ApplyCrosshair" Content="Apply" Background="#00ff00" Margin="2" Click="ApplyCrosshair_Click"/>
                    </StackPanel>
                </GroupBox>
                
                <GroupBox Header="ðŸ”­ FOV">
                    <StackPanel>
                        <TextBlock Text="FOV:" Foreground="White"/>
                        <Slider Name="FovSlider" Minimum="60" Maximum="120" Value="90" Margin="2"/>
                        <TextBlock Name="FovValue" Text="90" Foreground="#00ff00" HorizontalAlignment="Center"/>
                        <Button Name="ApplyFov" Content="Apply" Background="#00ff00" Margin="2" Click="ApplyFov_Click"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
